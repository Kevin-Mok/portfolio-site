# TODO

Last updated: 2026-02-22 00:12 UTC

## What's Done

- [x] 2026-02-22 00:12 UTC - Add repository pre-push enforcement for resume-affecting changes via `.githooks/pre-push` (build -> calibrate -> verify -> validate) and document one-time `git config core.hooksPath .githooks` activation in `AGENTS.md`.
- [x] 2026-02-22 00:09 UTC - Tighten `AGENTS.md` resume workflow so resume-affecting edits must run `build` + `calibrate:resume-layout` + `verify:resume-layout` + `validate-resume-pdfs` (in order) before commit/push, with rerun requirements after calibration changes.
- [x] 2026-02-22 00:00 UTC - Remove deprecated `general` resume variant from `lib/resume-data.ts` (and `.resume-variant-general` print overrides), delete legacy `public/resume/kevin-mok-resume.pdf`, and update resume docs/prompts/smoke steps to the 10 active variants.
- [x] 2026-02-21 23:47 UTC - Repoint portfolio bullet selections in `aws` and `aws-web-dev` resume variants to non-Railway evidence (`Cloudflare R2`/performance bullets) after removing Railway claims from `portfolioSiteProject`, and reconfirm `build`, `verify:resume-layout`, and `validate-resume-pdfs` all pass.
- [x] 2026-02-21 23:29 UTC - Refresh resume variant project/bullet mixes after portfolio bullet updates in `lib/resume-data.ts` (including `general`, `web-dev`, `aws`, `aws-web-dev`, `web-dev-django`, `it-support`, and `it-support-aws`) and recalibrate `.resume-variant-web-dev-django` `--resume-print-top-offset` in `app/styles/13-resume-latex.css` so `build`, `verify:resume-layout`, and `validate-resume-pdfs` all pass.
- [x] 2026-02-21 21:53 UTC - Make `npm run generate-resume-pdfs` incremental by caching per-variant rendered HTML fingerprints plus a global resume-layout fingerprint, regenerating only changed/missing variants, and persisting cache metadata in `.next/cache/resume-pdf-manifest.json`.
- [x] 2026-02-21 21:37 UTC - Replace Nomar project bullets from `lib/nomar-stocks.md` and re-optimize variant project selection so `general`, `web-dev`, `aws-web-dev`, `web-dev-django`, and `sales` use the strongest role-relevant Nomar bullet subsets while preserving one-page resume constraints.
- [x] 2026-02-21 15:47 UTC - Add role-row `Open-source contributions` evidence link to all Red Hat resume entries by extending `WorkExperience` with optional evidence fields, wiring the link in `WorkEntry`, and preserving print-safe resume styling.
- [x] 2026-02-21 15:29 UTC - Reorder active resume variant selection/generation order to prioritize `web-dev` first (default), followed by `web-dev-django`, `python`, `aws`, `aws-web-dev`, `aws-python`, `it-support`, `it-support-aws`, `sales`, and `call-centre`; leave `general` data defined but out of active ordered variants.
- [x] 2026-02-21 14:51 UTC - Reorder mobile parallax flow so Neofetch appears after `Resume` and before `Settings`, moving Neofetch into the normal section sequence and updating parallax active-section/number-key navigation handling accordingly.
- [x] 2026-02-21 14:46 UTC - Add mobile bio photo parity with desktop by rendering `ProfilePhoto` in `ParallaxBioSection`, adding responsive mobile sizing, and using face-priority cropping (`object-position`) with a slight size reduction on narrow phones.
- [x] 2026-02-20 22:05 UTC - Rewrite `lib/resume-data.ts` bullets for clearer HR-friendly language, add one additional Spotify bullet to `python` + `aws-python` variants for page-fill balance, and retune per-variant `--resume-print-*` values in `app/styles/13-resume-latex.css` so `build`, `verify:resume-layout`, and `validate-resume-pdfs` all pass.
- [x] 2026-02-20 21:19 UTC - Regenerate all 11 resume variants in `lib/resume-data.ts` from in-file source-of-truth bullets with role-specific project reshuffling, update sales/call-centre summaries, and recalibrate per-variant `--resume-print-*` controls in `app/styles/13-resume-latex.css` until `build`, `verify:resume-layout`, and `validate-resume-pdfs` all passed.
- [x] 2026-02-20 18:59 UTC - Add `docs/prompts/RESUME_VARIANT_RESTRUCTURE_PROMPT.md` to guide AI-assisted resume variant restructuring from README variant points (strongest-bullet selection, one-page fit workflow, and required validation checks), and link it from `docs/resume/README_RESUME.md` + `docs/resume/RESUME_DOCS_INDEX.md`.
- [x] 2026-02-20 18:44 UTC - Organize documentation into purpose-based folders (`docs/resume/`, `docs/specs/`, `docs/prompts/`, `docs/ops/`, `docs/archive/`), add `docs/README.md` as a docs hub, and archive legacy root `todo.md` as `docs/archive/ROOT_TODO_LEGACY.md`.
- [x] 2026-02-20 14:36 UTC - Lock resume PDF bottom whitespace to legacy baseline ratio (A3 source normalized to Letter with Â±1pt tolerance), add reusable measurement/verification tooling (`measure-resume-bottom-whitespace`, `verify-resume-layout`), tune print spacing/typography while preserving bold emphasis, and document the workflow in `docs/resume/resume-generation-spec.md` + README/resume docs.
- [x] 2026-02-16 14:19 UTC - Fix resume header social icon paths so LinkedIn/GitHub icons load correctly from `public/icons/resume/`.
- [x] 2026-02-16 14:23 UTC - Adapt `AGENTS.md` and `CLAUDE.md` from quit-weed instructions to portfolio-site-specific guidance; keep shared `AGENTS-BASE.md`.
- [x] 2026-02-16 14:28 UTC - Replace legacy branding tokens and legacy creator phrase with `kmok` across app code, content, docs, and matching asset filenames.
- [x] 2026-02-16 14:35 UTC - Replace browser favicon with bracket-style `[K]` icon and wire metadata to use `/favicon.svg`.
- [x] 2026-02-16 14:38 UTC - Regenerate `app/favicon.ico` from the bracket-style `[K]` icon so browsers requesting `/favicon.ico` receive updated branding.
- [x] 2026-02-16 14:42 UTC - Update favicon mark to square `KM` (no brackets) using the same color palette and mono font, and regenerate `app/favicon.ico`.
- [x] 2026-02-16 18:03 UTC - Upgrade mobile homepage parity with desktop visual system: remove forced mobile theme lock, add `Resume` CTA + inline `Settings` sections to parallax flow, and fix section navigation to use real element offsets.
- [x] 2026-02-16 18:07 UTC - Make mobile parallax backgrounds transparent (remove gray section/frame backplates) and tune panel/settings fill opacity so wallpaper shows through.
- [x] 2026-02-16 18:09 UTC - Convert mobile Neofetch from fixed background layer to a top hero section that scrolls away; restore functional accent palette interactions in Neofetch.
- [x] 2026-02-16 18:11 UTC - Fix Neofetch mobile accent swatch taps by preventing the hero bottom gradient overlay from capturing pointer events.
- [x] 2026-02-16 18:13 UTC - Remove redundant Neofetch accent swatch palette in both desktop and mobile layouts; keep accent control only in dedicated settings/accent tiles.
- [x] 2026-02-16 18:16 UTC - Force mobile parallax surfaces to stay transparent across accent changes by removing theme-surface gray fills from section cards/settings and Neofetch hero wrapper.
- [x] 2026-02-16 18:35 UTC - Fix mobile wallpaper switching so Settings -> Background controls update the active parallax wallpaper instead of staying pinned to the default image.
- [x] 2026-02-16 18:38 UTC - Make Web Development resume PDF the default selection on desktop resume view and the default PDF link in mobile Resume CTA.
- [x] 2026-02-18 16:36 UTC - Add deploy recovery tooling with `rebuild-restart-portfolio.sh` and `docs/ops/DEPLOY_RECOVERY.md` to rebuild, restart `portfolio.service`, and verify Next.js chunk health after deploy drift.
- [x] 2026-02-18 17:35 UTC - Fix OG metadata quality checks by lengthening SEO title/description, switching fallback OG image paths to `opengraph-image.jpg`, and regenerating a 1200x630 CTA image under WhatsApp size guidance.
- [x] 2026-02-18 17:43 UTC - Use the new `public/opengraph-image.png` asset as the default OG image by optimizing it in-place to 1200x630 (~305 KB) and repointing fallback metadata/image URLs from `.jpg` to `.png`.
- [x] 2026-02-18 17:48 UTC - Harden `rebuild-restart-portfolio.sh` with bounded readiness retries so transient post-restart `502` responses on homepage/chunk checks do not fail recovery prematurely.
- [x] 2026-02-18 21:04 UTC - Implement typed resume variants with build-time PDF generation (`npm run build`), preserve `/resume/<name>.pdf` downloads, switch resume styling to black text with blue links, and generate US Letter PDFs via headless Chrome.
- [x] 2026-02-18 21:58 UTC - Rework resume layout to match old one-page structure on US Letter: remove framed `/resume` shell, place phone/email left and LinkedIn/GitHub right under a larger underlined name, remove subtitle line, tighten spacing for one-page fit across generated variants, and disable Chrome print header/footer in PDF generation.
- [x] 2026-02-18 22:21 UTC - Increase resume print legibility (larger font/looser spacing) and add variant-specific print scaling so all generated resume variants remain one-page on US Letter.
- [x] 2026-02-19 18:04 UTC - Apply mf-site resume style patterns to all portfolio variants: inline project technologies with right-aligned dates, two-line education rows, variant-specific skills bolding, all-CMU PDF fonts, and per-variant one-page fill enforcement via `scripts/validate-resume-pdfs.mjs` plus regenerated `public/resume/*.pdf`.
- [x] 2026-02-19 18:14 UTC - Stop tracking `public/resume/*.pdf` in git (server rebuild now regenerates them), add `.gitkeep` for directory retention, and harden `rebuild-restart-portfolio.sh` to run `npm run validate-resume-pdfs` before service restart.
- [x] 2026-02-19 18:30 UTC - Make resume PDF generation preflight-check Chrome/Chromium binaries (`google-chrome*`/`chromium*`) with actionable errors and update resume troubleshooting docs accordingly.
- [x] 2026-02-19 18:35 UTC - Make resume PDF validation preflight-check required Poppler tools (`pdfinfo`, `pdffonts`, `pdftohtml`) with a single actionable install error and document `poppler-utils` prerequisite.
- [x] 2026-02-19 18:39 UTC - Add resume PDF pipeline preflight checks for missing `.next` build and missing generated PDF files, and update troubleshooting docs for those explicit failure modes.
- [x] 2026-02-19 18:42 UTC - Add targeted resume PDF generator guidance for Snap Chromium cgroup failures (`is not a snap cgroup...`) and document switching `CHROME_BIN` to a non-Snap browser path.
- [x] 2026-02-19 18:49 UTC - Restore bounded readiness retries in `rebuild-restart-portfolio.sh` (`wait_for_http_200` + webpack chunk retry extraction) so transient post-restart `502` responses no longer fail deploy recovery immediately.
