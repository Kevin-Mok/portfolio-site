/* ================================================= */
/* Mobile-Specific Styles                           */
/* ================================================= */
/* Safe area insets, mobile viewport optimization,  */
/* touch actions, and performance optimizations     */
/* ================================================= */

/* ================================ */
/* Mobile Single-Tile Viewport Styles */
/* ================================ */

/* Safe area insets for notched devices */
:root {
  --sat: env(safe-area-inset-top);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  --sar: env(safe-area-inset-right);
}

/* Viewport meta tag compatibility */
@supports (padding: max(0px)) {
  .safe-top {
    padding-top: max(env(safe-area-inset-top), 12px);
  }

  .safe-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 12px);
  }
}

/* Touch action for gesture areas */
.touch-action-none {
  touch-action: none;
}

.touch-action-pan-y {
  touch-action: pan-y;
}

.touch-action-pan-x {
  touch-action: pan-x;
}

/* Mobile viewport optimization */
.mobile-viewport {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
}

/* Prevent iOS bounce */
.prevent-bounce {
  overscroll-behavior: contain;
}

/* Mobile bottom bar shadow */
.mobile-bottom-bar {
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

/* Slide-up sheet backdrop */
.sheet-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Sheet handle */
.sheet-handle {
  width: 36px;
  height: 4px;
  background: rgba(var(--theme-text-rgb), 0.3);
  border-radius: 2px;
  margin: 8px auto;
}

/* Mobile performance optimizations */
@media (max-width: 767px) {
  /* Reduce blur for better performance */
  .glass-tile {
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
  }

  /* Hardware acceleration hints */
  .mobile-viewport,
  .mobile-bottom-bar {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Optimize animations for mobile */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Smooth momentum scrolling */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }
}

/* Mobile landscape adjustments */
@media (max-width: 767px) and (orientation: landscape) {
  .mobile-bottom-bar {
    height: 48px !important;
  }

  .mobile-viewport {
    height: calc(100vh - 48px);
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .mobile-bottom-bar {
    border-top: 2px solid var(--accent-color);
  }

  .sheet-handle {
    background: var(--accent-color);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .mobile-viewport * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ================================ */
/* Mobile Parallax Section Polish   */
/* ================================ */

.parallax-panel {
  border: 1px solid rgba(var(--accent-color-rgb), 0.24);
  background: transparent;
  padding: 20px;
}

.parallax-panel-spacious {
  padding: 24px;
}

.parallax-section-title {
  color: var(--accent-color);
  font-size: clamp(1.55rem, 1.2rem + 2.4vw, 2rem);
  font-weight: 700;
  line-height: 1.15;
  margin-bottom: 12px;
}

.parallax-section-subtitle {
  color: var(--theme-text);
  opacity: 0.9;
  font-size: clamp(0.95rem, 0.9rem + 0.6vw, 1.05rem);
  line-height: 1.6;
}

.parallax-copy-stack {
  display: grid;
  gap: 16px;
}

.parallax-bio-photo-wrap {
  width: min(100%, 320px);
  margin: 0 auto 18px;
}

.parallax-bio-photo-wrap img {
  object-position: center 20%;
}

.parallax-copy-lead,
.parallax-copy-body {
  color: var(--theme-text);
  line-height: 1.7;
}

.parallax-copy-lead {
  font-size: clamp(1rem, 0.95rem + 0.8vw, 1.16rem);
}

.parallax-copy-body {
  font-size: clamp(0.95rem, 0.9rem + 0.65vw, 1.05rem);
  opacity: 0.95;
}

.parallax-copy-muted {
  opacity: 0.88;
}

.parallax-copy-tagline {
  color: var(--theme-text-dimmed);
  font-size: clamp(0.86rem, 0.83rem + 0.5vw, 0.96rem);
  font-style: italic;
  padding-top: 4px;
  opacity: 0.86;
}

.parallax-tech-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px 12px;
  margin-top: 16px;
  justify-items: center;
}

.parallax-cta-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 18px;
}

.parallax-cta-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 16px;
  border: 1px solid rgba(var(--accent-color-rgb), 0.58);
  background: rgba(var(--accent-color-rgb), 0.18);
  color: var(--accent-color);
  font-weight: 600;
  text-decoration: none;
  transition: transform 120ms ease, background-color 150ms ease;
}

.parallax-cta-button:active {
  transform: scale(0.98);
}

.parallax-cta-link {
  color: var(--theme-text-dimmed);
  text-decoration: none;
  border-bottom: 1px dotted rgba(var(--theme-text-rgb), 0.35);
  line-height: 1;
  padding-bottom: 2px;
}

.parallax-settings-grid {
  display: grid;
  gap: 14px;
  margin-top: 16px;
}

.parallax-settings-card {
  border: 1px solid rgba(var(--accent-color-rgb), 0.18);
  background: transparent;
  padding: 12px;
}

.parallax-settings-label {
  color: var(--theme-text-dimmed);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin-bottom: 8px;
}

.parallax-settings-body {
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.parallax-settings-body-compact {
  min-height: 52px;
}

@media (max-width: 400px) {
  .parallax-panel {
    padding: 16px;
  }

  .parallax-bio-photo-wrap {
    width: min(100%, 280px);
    margin-bottom: 16px;
  }

  .parallax-tech-grid {
    gap: 14px 8px;
  }

  .parallax-cta-row {
    flex-wrap: wrap;
  }
}
